import{_ as d,c as r,a2 as e,o as a}from"./chunks/framework.DXaKt7EB.js";const i="/imgs/dbRel.png",f=JSON.parse('{"title":"表结构说明","description":"","frontmatter":{},"headers":[],"relativePath":"docs/tables.md","filePath":"docs/tables.md","lastUpdated":1751190546000}'),l={name:"docs/tables.md"};function o(s,t,n,c,_,h){return a(),r("div",null,t[0]||(t[0]=[e('<h1 id="表结构说明" tabindex="-1">表结构说明 <a class="header-anchor" href="#表结构说明" aria-label="Permalink to &quot;表结构说明&quot;">​</a></h1><p><a href="https://gitee.com/aizuda/flowlong/tree/dev/db" target="_blank" rel="noreferrer">数据库脚本点击下载</a></p><blockquote><p>引擎核心仅 8 张表实现逻辑数据存储、采用 JSON 数据格式存储模型结构简洁直观。</p></blockquote><ul><li>英文字母 <code>flw</code> 为 <code>flowlong workflow</code> 飞龙工作流的缩写</li></ul><h2 id="核心表关系结构图" tabindex="-1">核心表关系结构图 <a class="header-anchor" href="#核心表关系结构图" aria-label="Permalink to &quot;核心表关系结构图&quot;">​</a></h2><img src="'+i+'"><h2 id="流程定义表-flw-process" tabindex="-1">流程定义表 flw_process <a class="header-anchor" href="#流程定义表-flw-process" aria-label="Permalink to &quot;流程定义表 flw_process&quot;">​</a></h2><ul><li>用于存储流程模型信息</li></ul><table tabindex="0"><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>主键ID</td></tr><tr><td>tenant_id</td><td>租户ID</td></tr><tr><td>create_id</td><td>创建人ID</td></tr><tr><td>create_by</td><td>创建人名称</td></tr><tr><td>create_time</td><td>创建时间</td></tr><tr><td>process_key</td><td>流程定义 key 唯一标识</td></tr><tr><td>process_name</td><td>流程定义名称</td></tr><tr><td>process_icon</td><td>流程图标地址</td></tr><tr><td>process_type</td><td>流程类型</td></tr><tr><td>process_version</td><td>流程版本，默认 1</td></tr><tr><td>instance_url</td><td>实例地址（外置表单发起地址）</td></tr><tr><td>remark</td><td>备注说明</td></tr><tr><td>use_scope</td><td>使用范围 0，全员 1，指定人员（业务关联） 2，均不可提交</td></tr><tr><td>process_state</td><td>流程状态 0，不可用 1，可用 2，历史版本</td></tr><tr><td>model_content</td><td>流程模型定义JSON内容</td></tr><tr><td>sort</td><td>排序</td></tr></tbody></table><h2 id="流程实例表-flw-instance" tabindex="-1">流程实例表 flw_instance <a class="header-anchor" href="#流程实例表-flw-instance" aria-label="Permalink to &quot;流程实例表 flw_instance&quot;">​</a></h2><ul><li>记录每一次启动执行流程模型的具体实例信息</li></ul><table tabindex="0"><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>主键ID</td></tr><tr><td>tenant_id</td><td>租户ID</td></tr><tr><td>create_id</td><td>创建人ID</td></tr><tr><td>create_by</td><td>创建人名称</td></tr><tr><td>create_time</td><td>创建时间</td></tr><tr><td>process_id</td><td>流程定义ID</td></tr><tr><td>parent_instance_id</td><td>父流程实例ID</td></tr><tr><td>priority</td><td>优先级</td></tr><tr><td>instance_no</td><td>流程实例编号</td></tr><tr><td>business_key</td><td>业务KEY</td></tr><tr><td>variable</td><td>变量json</td></tr><tr><td>current_node_name</td><td>当前所在节点名称</td></tr><tr><td>current_node_key</td><td>当前所在节点key</td></tr><tr><td>expire_time</td><td>期望完成时间</td></tr><tr><td>last_update_by</td><td>上次更新人</td></tr><tr><td>last_update_time</td><td>上次更新时间</td></tr></tbody></table><h2 id="历史流程实例表-flw-his-instance" tabindex="-1">历史流程实例表 flw_his_instance <a class="header-anchor" href="#历史流程实例表-flw-his-instance" aria-label="Permalink to &quot;历史流程实例表 flw_his_instance&quot;">​</a></h2><ul><li>流程实例表的历史记录，每次生成实例信息同时记录该表，该表继承流程实例表字段的基础上增加 <code>状态</code> <code>结束时间</code> <code>处理耗时</code> 字段。</li></ul><table tabindex="0"><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td>instance_state</td><td>状态 0，审批中 1，审批通过 2，审批拒绝 3，撤销审批 4，超时结束 5，强制终止</td></tr><tr><td>end_time</td><td>结束时间</td></tr><tr><td>duration</td><td>处理耗时</td></tr></tbody></table><h2 id="扩展流程实例表-flw-ext-instance" tabindex="-1">扩展流程实例表 flw_ext_instance <a class="header-anchor" href="#扩展流程实例表-flw-ext-instance" aria-label="Permalink to &quot;扩展流程实例表 flw_ext_instance&quot;">​</a></h2><ul><li>扩展流程实例功能表，例如 <code>modelContent</code> 用于支持动态添加节点存储临时模型。</li></ul><table tabindex="0"><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>主键ID</td></tr><tr><td>tenant_id</td><td>租户ID</td></tr><tr><td>process_id</td><td>流程定义ID</td></tr><tr><td>instance_id</td><td>程实例ID</td></tr><tr><td>process_name</td><td>流程名称</td></tr><tr><td>process_type</td><td>流程类型</td></tr><tr><td>model_content</td><td>流程模型定义JSON内容</td></tr></tbody></table><h2 id="任务表-flw-task" tabindex="-1">任务表 flw_task <a class="header-anchor" href="#任务表-flw-task" aria-label="Permalink to &quot;任务表 flw_task&quot;">​</a></h2><ul><li>流程实例执行阶段的具体执行任务信息</li></ul><table tabindex="0"><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>主键ID</td></tr><tr><td>tenant_id</td><td>租户ID</td></tr><tr><td>create_id</td><td>创建人ID</td></tr><tr><td>create_by</td><td>创建人名称</td></tr><tr><td>create_time</td><td>创建时间</td></tr><tr><td>instance_id</td><td>流程实例ID</td></tr><tr><td>parent_task_id</td><td>父任务ID</td></tr><tr><td>task_name</td><td>任务名称</td></tr><tr><td>task_key</td><td>任务 key 唯一标识</td></tr><tr><td>task_type</td><td>任务类型</td></tr><tr><td>perform_type</td><td>参与类型</td></tr><tr><td>action_url</td><td>任务处理的url</td></tr><tr><td>variable</td><td>变量json</td></tr><tr><td>assignor_id</td><td>委托人ID</td></tr><tr><td>assignor</td><td>委托人</td></tr><tr><td>expire_time</td><td>任务期望完成时间</td></tr><tr><td>remind_time</td><td>提醒时间</td></tr><tr><td>remind_repeat</td><td>提醒次数</td></tr><tr><td>viewed</td><td>已阅 0，否 1，是</td></tr></tbody></table><h2 id="历史任务表-flw-his-task" tabindex="-1">历史任务表 flw_his_task <a class="header-anchor" href="#历史任务表-flw-his-task" aria-label="Permalink to &quot;历史任务表 flw_his_task&quot;">​</a></h2><ul><li>流程实例执行任务表的历史记录，每次生成任务信息同时记录该表，该表继承流程任务表字段的基础上增加 <code>完成时间</code> <code>任务状态</code> <code>处理耗时</code> 字段。</li></ul><table tabindex="0"><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td>call_process_id</td><td>调用外部流程定义ID</td></tr><tr><td>call_instance_id</td><td>调用外部流程实例ID</td></tr><tr><td>finish_time</td><td>完成时间</td></tr><tr><td>task_state</td><td>任务状态 0，活动 1，跳转 2，完成 3，拒绝 4，撤销审批 5，超时 6，终止 7，驳回终止</td></tr><tr><td>duration</td><td>处理耗时</td></tr></tbody></table><h2 id="任务参与者表-flw-task-actor" tabindex="-1">任务参与者表 flw_task_actor <a class="header-anchor" href="#任务参与者表-flw-task-actor" aria-label="Permalink to &quot;任务参与者表 flw_task_actor&quot;">​</a></h2><ul><li>流程实例执行任务具体任务参与者信息，用于存储实时任务参与者关联信息。</li></ul><table tabindex="0"><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>主键ID</td></tr><tr><td>tenant_id</td><td>租户ID</td></tr><tr><td>instance_id</td><td>流程实例ID</td></tr><tr><td>task_id</td><td>任务ID</td></tr><tr><td>actor_id</td><td>参与者ID</td></tr><tr><td>actor_name</td><td>参与者名称</td></tr><tr><td>actor_type</td><td>参与者类型 0，用户 1，角色 2，部门</td></tr><tr><td>weight</td><td>权重，票签任务时，该值为不同处理人员的分量比例，代理任务时，该值为 1 时为代理人 2时或签处理人</td></tr><tr><td>agent_id</td><td>代理人ID</td></tr><tr><td>agent_type</td><td>代理人类型 0，代理 1，被代理 2，认领角色 3，认领部门</td></tr><tr><td>extend</td><td>扩展json</td></tr></tbody></table><h2 id="历史任务参与者表-flw-his-task-actor" tabindex="-1">历史任务参与者表 flw_his_task_actor <a class="header-anchor" href="#历史任务参与者表-flw-his-task-actor" aria-label="Permalink to &quot;历史任务参与者表 flw_his_task_actor&quot;">​</a></h2><ul><li>流程实例执行任务具体任务参与者信息历史表，该表和表 <code>flw_task_actor</code> 的表结构一致，用于存储历史任务参与者关联信息。</li></ul><div class="warning custom-block"><p class="custom-block-title">提示！</p><p>如下问题还是无法解决您的疑惑，可以添加微信 <code>wx153666</code> 备注 <code>flowlong</code> 进入微信官方群交流。</p></div>',30)]))}const u=d(l,[["render",o]]);export{f as __pageData,u as default};
